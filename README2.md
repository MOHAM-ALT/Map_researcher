# إعادة تنظيم ملف main.py

لقد قمت بإعادة تنظيم ملف main.py الخاص بمشروع Map_researcher 0.3V لحل المشاكل المتعلقة بترتيب الكود وتعريف الفئات. فيما يلي الخطوات اللازمة لتطبيق هذه التغييرات:

## ملاحظات هامة

1. **لا تحذف أي شيء من الكود الحالي حتى تتأكد من أن الكود الجديد يعمل بشكل صحيح**.

2. **يمكنك إنشاء نسخة احتياطية من الكود الحالي قبل تعديله** (مثلاً main.py.old).

3. **يجب أن تفتح ملف main.py في محرر نصوص وتحذف كل محتواه، ثم تضع الكود الجديد**.

## كيفية تطبيق الترتيب الجديد

1. قم بنسخ محتويات الملفات التالية في ملف main.py:
   - reorganized-main-part1.py (الجزء الأول)
   - reorganized-main-part2.py (الجزء الثاني)
   - reorganized-main-part3.py (الجزء الثالث)
   - reorganized-main-part4.py (الجزء الرابع)

2. الترتيب الجديد يتبع بنية منطقية:
   - الاستيرادات الأساسية والبوتستراب
   - معالجة المكتبات مع البدائل
   - إعداد السجلات
   - فئة قاعدة البيانات (Database)
   - فئة استخراج معلومات الفنادق (HotelScraper)
   - فئة واجهة سطر الأوامر (CommandLineInterface)
   - دالة main() الرئيسية

## المشاكل التي تم حلها

1. **تعريف الفئات والدوال قبل استخدامها**: تم نقل تعريف فئة CommandLineInterface لتكون قبل دالة main().

2. **ترتيب الكود بشكل منطقي**: تم وضع كل الاستيرادات في بداية الملف، ثم تعريف الفئات، ثم الدالة الرئيسية في النهاية.

3. **إزالة التكرار**: تمت إزالة التعريفات المكررة للفئات والدوال.

4. **تحسين معالجة المكتبات والبدائل**: تم تحسين آلية التعامل مع المكتبات المفقودة.

## ملاحظات إضافية

- يمكنك تعديل الكود حسب احتياجاتك، ولكن حافظ على ترتيبه المنطقي.
- إذا كان هناك أي خطأ في الترتيب الجديد، يمكنك الرجوع إلى النسخة الاحتياطية.
- تأكد من اختبار البرنامج بعد إعادة الترتيب للتأكد من أنه يعمل بشكل صحيح.

## كيفية اختبار البرنامج

بعد تطبيق الترتيب الجديد، قم بتشغيل البرنامج باستخدام الأمر:

```
python main.py
```

أو استخدم ملف run.bat الذي يتعامل مع البيئة الافتراضية إذا كانت موجودة:

```
run.bat
```